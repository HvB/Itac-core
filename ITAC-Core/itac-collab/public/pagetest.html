<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>ITAC</title>
    <link rel="stylesheet" href="http://localhost:3000/css/style.css">
    <script type="text/javascript" src="http://localhost:3000/collab/js/lib/socket.io.js"></script>
</head>
<body>
<h1>ok</h1>
<p>Welcome to ITAC</p>
<script>
    var url = 'ws://localhost:8080';
    var socket0 = io.connect(url, {transports: ['websocket']});
    socket0.emit('EVT_DemandeConnexionZEP', 'pseudo0', '0');
    socket0.on('EVT_ReponseOKConnexionZEP', function (idZE, idZEP) {
        socket0.emit('EVT_NewArtefactInZE', 'pseudo0', idZEP, idZE, JSON.stringify({
            "creator": "philippe", "owner": "philippe", "type": "message", "idContainer": "ZE1",
            "typeContainer": "ZE", "dateCreation": "2017-06-29T15:08:12.765Z", "history": [], "title": "Message", "content": "test de contenu"
        }));
    });
    socket0.on('EVT_ReceptionArtefactIntoZE', function (pseudo, idZE, idAr) {
        console.log('Artefact envoye et bien recu pour la ZE=' + idZE + ' idART=' + idAr);
    });

    var socket1 = io.connect(url, {transports: ['websocket']});
    socket1.emit('EVT_DemandeConnexionZEP', 'pseudo1', '1');

    var socket2 = io.connect(url, {transports: ['websocket']});
    socket2.emit('EVT_DemandeConnexionZEP', 'pseudo2', '2');

    var socket3 = io.connect(url, {transports: ['websocket']});
    socket3.emit('EVT_DemandeConnexionZEP', 'pseudo3', '3');

    var socket4 = io.connect(url, {transports: ['websocket']});
    socket4.emit('EVT_DemandeConnexionZEP', 'pseudo4', '4');

    var socket5 = io.connect(url, {transports: ['websocket']});
    socket5.emit('EVT_DemandeConnexionZEP', 'pseudo5', '5');
</script>
</body>
</html>